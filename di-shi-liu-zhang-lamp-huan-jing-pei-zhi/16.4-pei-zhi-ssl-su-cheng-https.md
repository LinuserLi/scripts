---
description: 为网站做证书是必不可少的一个环节。希望广大同学在今后的维护工作中也积极配置SSL，这样有助于加强网站数据安全性！
---

# 16.4：配置SSL ，俗称HTTPS

先声明：因为这里我是演示，使用自签证书来配置，所以浏览网站时会提示证书不受信任或者不安全之类的。等后期大家在工作中使用的都是从授信机构购买的证书，就不会出现这种问题了。

1、在 /usr/local/ 目录下创建 ssl 目录，同时在该目录下创建web 项目对应的域名目录，比如我上面的域名是 test.apache.com ，则应创建目录： /usr/local/ssl/test.apache.com:

```bash
[root@centos ~]# mkdir -p /usr/local/ssl/test.apache.com
```

2、进入该目录：

```bash
[root@centos ~]# cd /usr/local/ssl/test.apache.com
```

3、使用openssl 生成 2048 位私钥：

```text
[root@centos test.apache.com]# openssl genrsa -out server.key 2048
Generating RSA private key, 2048 bit long modulus
......................................+++
..................+++
e is 65537 (0x10001)
```

4、 然后，生成证书签名请求（CSR），这里需要填写许多信息，如国家，省市，公司等

```text
[root@centos test.apache.com]# openssl req -new -key server.key -out server.csr
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [XX]:CN
State or Province Name (full name) []:FJ
Locality Name (eg, city) [Default City]:XM
Organization Name (eg, company) [Default Company Ltd]:xinbo
Organizational Unit Name (eg, section) []:IT
Common Name (eg, your name or your server's hostname) []:test.apache.com #注：这里要写域名
Email Address []:

Please enter the following 'extra' attributes
to be sent with your certificate request
A challenge password []:
An optional company name []:
```

5、 生成类型为X509的自签名证书。有效期设置3650天，即有效期为10年

```bash
[root@centos test.apache.com]# openssl x509 -req -days 3650 -in server.csr -signkey server.key -out server.crt
Signature ok
subject=/C=CN/ST=FJ/L=XM/O=xinbo/OU=IT/CN=test.apache.com
Getting Private key
```



